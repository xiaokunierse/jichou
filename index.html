<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ä»Šå¤©è¿™ä¸ªä»‡å…ˆè®°ä¸‹æ¥</title>
  <style>
    * {
      margin: 0 auto;
      font-family: "PingFang SC";
    }


    .container {
      margin: 0 auto;
      width: 250px;
    }

    #content-box {
      margin: 10px auto 20px auto;
      width: 250px;
      
      background-color: #fff;
      border: 1px solid #fff;
    }
    button {
      margin: 10px auto 0px auto;

      width: 100%;
        padding: 10px 10px;
        font-size: 16px;
        /* margin: 10px; */
        cursor: pointer;
        border: none;
        border-radius: 5px;
        background-color: #000000;
        color: #fff;
        transition: background-color 0.3s ease;
    }

    .row {
      position: relative;
    }

    #btn {
      border: 0;
      /* width: 100px; */
      border-radius: 5px;
      color: #fff;
      background-color: #000;
      cursor: pointer;
      padding: 10px 40px;
      text-align: center;
      box-sizing: border-box;
      float: left;
    }

    .upload {
      border: 0;
      /* width: 100px; */
      border-radius: 5px;
      color: #fff;
      background-color: #000;
      cursor: pointer;
      padding: 10px 40px;
      text-align: center;
      box-sizing: border-box;
      float: right;
      cursor: pointer;
    }

    .clearfloat:after {
      content: "";
      height: 0;
      clear: both;
      visibility: hidden;
      display: table-cell;
    }

    #imageChange {
      position: absolute;
      right: 0;
      top: 0;
      width: 100px;
      height: 42px;
      opacity: 0;
      z-index: 233;
      cursor: pointer;
    }

    #screen-box {
      margin: 20px auto;
    }

    .footer {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      /* background-color: #f5f5f5; */
      /* æ ¹æ®éœ€è¦è®¾ç½®èƒŒæ™¯é¢œè‰² */
      padding: 2px;
      text-align: center;
    }
    .footer a {
      color: rgba(0, 0, 0, .8);
    }
    .footer p {
      color: #777; /* Adjust paragraph text color as needed */
      margin-top: 20px;
    }
    h1 {
        margin: 10px;

      text-align:center;}
  </style>
</head>

<body>
  <h1>è®°ä»‡è¡¨æƒ…åŒ…ç”Ÿæˆå™¨ğŸ˜›</h1>
  <div class="container">
    <div>ç‚¹æ–‡å­—å¯ä»¥ä¿®æ”¹ï¼›é•¿æŒ‰å¯ä¿å­˜</div>
    <div id="content-box">
      <!-- <div class="img-box"> -->
      <img id="image" style="width:100%" src="jichou.png" alt="è®°ä»‡">
      <!-- </div> -->
      <div contenteditable="true" class="write">
        <span id="date">2024å¹´2æœˆ18æ—¥</span> <span id="content">é˜´ï¼Œç¾¤ä¸»æ‹’ç»äº†å¥³è£…ï¼Œè¿™ä¸ªä»‡ï¼Œæˆ‘å…ˆè®°ä¸‹äº†</span>

      </div>
      
    </div>

    <div class="row clearfloat">
      
      <a id="btn">ç”Ÿæˆ</a>
      <a class="upload">æ”¹å›¾</a>
      <button id="randomTextBtn">éšæœºæ–‡æ¡ˆ</button>

      <input type="file" id="imageChange">
    </div>

    <div id="screen-box">

    </div>
  </div>
  <div class="footer">
      <p>&#169; ZHUSHAOKUN</p>
  </div>
  <script src="html2canvas.js"></script>
  <script>
    var btn = document.getElementById('btn');
    var contentBox = document.getElementById('content-box');
    var screenBox = document.getElementById('screen-box');
    
    btn.onclick = function (event) {
      html2canvas(contentBox, {
        allowTain: true,
        taintTest: true,
        onrendered: function (canvas) {

          canvas.id = "mycanvas";

          var dataUrl = canvas.toDataURL('image/jpeg');
          var newImg = document.createElement("img");
          newImg.src = dataUrl;
          //å…ˆæ¸…ç©ºå­å…ƒç´ 
          screenBox.innerHTML = '';

          screenBox.appendChild(newImg);
        }
      })
    }
        // éšæœºæ–‡æ¡ˆ
        var contents = [
    'é˜´ï¼Œç¾¤ä¸»æ‹’ç»äº†å¥³è£…ï¼Œè¿™ä¸ªä»‡ï¼Œæˆ‘å…ˆè®°ä¸‹äº†',
    'æ²¡äººç»™æˆ‘ç‚¹èµï¼Œè¿™ä¸ªä»‡æˆ‘å…ˆè®°ä¸‹æ¥äº†',    
    'å¤§å¤ªé˜³ï¼Œä»Šå¤©å·¥åœ°çš„ç –æ ¼å¤–çš„çƒ«æ‰‹ï¼Œå¯Œå©†è¿˜æ˜¯æ²¡æœ‰å‡ºç°ï¼Œæˆ‘çš„å¿ƒå¥½ç´¯',
    'å°é›¨ï¼Œç¾¤é‡Œæ²¡äººç»™æˆ‘æ®ä»‹ç»å¯Œå©†ï¼Œè¿™ä¸ªä»‡å…ˆè®°ä¸‹äº†',
    'æ™´ï¼Œå¼€é»‘åˆæ²¡å¸¦æˆ‘ï¼Œè¿™ä¸ªä»‡æˆ‘å…ˆè®°ä¸‹äº†ï¼',
    'æš´é›¨ï¼Œå‘ç»™ä½ çš„ä¿¡æ¯åˆ°ç°åœ¨éƒ½æ²¡å›ï¼Œè¿™ä¸ªä»‡æˆ‘å…ˆè®°ä¸‹äº†ï¼',
    'æ™´ï¼Œç¾¤å‹åˆåœ¨å¼€è½¦ï¼Œå´æ²¡æœ‰ä¸€ä¸ªäººå‘ç§ï¼Œè¿™ä¸ªä»‡æˆ‘è®°ä¸‹äº†ï¼',
    'æ™´ï¼Œä»Šå¤©çœ‹äº†æˆ‘çš„æœ‹å‹æ²¡æœ‰ç‚¹èµï¼Œè¿™ä¸ªä»‡æˆ‘å…ˆè®°ä¸‹äº†ï¼',
    'å¦‚æœæ˜å¤©è¿˜æ²¡æœ‰äººç»™æˆ‘ä»‹ç»å¯¹è±¡ï¼Œæˆ‘å°±ä¸¾æŠ¥è¿™ä¸ªç¾¤æ¶‰é»„ï¼',
    'ä»Šå¤© åŒ—äº¬ æ™´ æ¸©åº¦36Â° çœŸçš„å¾ˆçƒ­ å…«å²çš„æˆ‘éœ€è¦18å—é’±ä¹°ä¸€ç“¶å¯ä¹å– åˆ«é—®ä¸ºä»€ä¹ˆäººå®¶çš„å¯ä¹åªè¦3å— æˆ‘çš„è¦18å—è¿™ç§é—®é¢˜ æˆ‘å°±æ˜¯æƒ³éª—ä½ é’± å‚»çš„æ¥ ä¸å‚»çš„åˆ«æ¥ æˆ‘éª‚ä¸è¿‡ä½ ',
    'æ™´ï¼Œæˆ‘çš„å¿ƒå°±è·Ÿç ´ç¢äº†ä¸€æ ·ï¼Œä»æ˜¨å¤©åˆ°ä»Šå¤©æ²¡åƒé¥­ï¼Œåˆå†·åˆé¥¿ï¼Œä¸€ç›´ç­‰æœ‹å‹åœˆçš„äººå¸¦æˆ‘ç©ï¼Œä¸€ç›´ç­‰åˆ°ç°åœ¨éƒ½ä¸å¸¦æˆ‘ï¼',
    'æ™´ï¼Œä»Šå¤©è¦çƒ­åœŸæˆ‘äº†ï¼Œæ²¡äººç»™æˆ‘ä¹°é›ªç³•ï¼Œè¿™ä¸ªä»‡è®°ä¸‹äº†ï¼',
    'ä»Šå¤©ç¾¤é‡Œå¥½å¤šå…„å¼Ÿéƒ½æœ‰ç”·æœ‹å‹äº†ï¼Œåªæœ‰æˆ‘è¿˜å–œæ¬¢å¥³å­©å­ï¼Œå› ä¸ºæˆ‘è§‰å¾—å¥³å­©å­è½¯è½¯çš„æƒ³è±¡çš„ï¼Œæˆ‘è§‰å¾—æˆ‘è·Ÿè¿™ç¾¤gayç©ä¸ä¸‹å»ã€‚',
    'æ™´ï¼Œæœ‰äººè¦è®°ä»‡è¡¨æƒ…åŒ…ï¼Œè¿™ä¸ªä»‡ï¼Œæˆ‘å…ˆè®°ä¸‹äº†ï¼'
    ];

    var btn_random = document.getElementById('randomTextBtn');
    var content = document.getElementById('content');
    var i = 1;
    btn_random.onclick = function (event) {
      if (i>=contents.length) {
        i = 0
      }

      content.innerText = contents[i++]
    }
    
    
    // åˆ¤æ–­æµè§ˆå™¨å‡½æ•°
    const isMobile = function(){
       if(window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)) {
          return true; // ç§»åŠ¨ç«¯
       }else{
          return false; // PCç«¯
       }
    }

    const isWechat = function() {
        var rst = true
        if (window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)) {
            var ua = navigator.userAgent.toLowerCase();
            if (! (ua.match(/MicroMessenger/i) == "micromessenger")) {
                rst = false;
            }
        } else {
            rst = false;
        }
        return rst;
    }

    //è‡ªåŠ¨ç”Ÿæˆå½“å‰æ—¥æœŸ
    var date = new Date();
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    var date = document.getElementById('date');
    date.innerText = `${year}å¹´${month}æœˆ${day}æ—¥`;
    //å®ç°è‡ªå®šä¹‰ä¸Šä¼ å›¾ç‰‡
    var image = document.getElementById('image');
    var imageChange = document.getElementById('imageChange');
    function readUrl(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
          image.setAttribute('src', e.target.result)
        }
        reader.readAsDataURL(input.files[0]);
      }
    }

    imageChange.onchange = function () {
      readUrl(this);
    }


  </script>
</body>

</html>
